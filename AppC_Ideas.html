<!DOCTYPE html>
<html lang="en">

<head>
<title>JavaScript: AppC Ideas</title>
<meta name="title" content="Variations on a Theme: JavaScript: AppC Ideas">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta charset="UTF-8">
<meta name="description" content="An object-oriented Introduction">
<meta name="keywords" content="JavaScript,object orientation,introduction">
<meta name="author" content="Ralph P. Lano">
<meta name="robots" content="index,follow">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" type="text/css" href="book.css">
</head>

<body>
<center>
<div id="wrap">
<ul class="sidenav">
<p><a href="../index.html">Variations on a Theme</a><a href="index.html">JavaScript</a></p>
<li><a href="Ch1_Karel.html">Karel</a></li>
<li><a href="Ch2_Graphics.html">Graphics</a></li>
<li><a href="Ch3_Console.html">Console</a></li>
<li><a href="Ch4_Agrar.html">Agrar</a></li>
<li><a href="Ch5_MindReader.html">MindReader</a></li>
<li><a href="Ch6_Swing.html">Swing</a></li>
<li><a href="Ch7_Asteroids.html">Asteroids</a></li>
<li><a href="Ch8_Stocks.html">Stocks</a></li>
<li><a href="index.html"> </a></li>
<li><a href="AppA_Primer.html">Primer</a></li>
<li><a href="AppB_Libraries.html">Libraries</a></li>
<li><a href="AppC_Ideas.html">Ideas</a></li>
</ul>
<div class="content">
<h1>
	Ideas</h1>
<p>
	As we have been indicating throughout this book, JavaScript has become more and more powerful.&nbsp; Also p5.js has a few interesting capabilities worth while exploring.&nbsp; In this final section we want to explore a couple of those, such as</p>
<ul>
	<li>
		playing videos,</li>
	<li>
		accessing the webcam,</li>
	<li>
		accessing the microphone,</li>
	<li>
		accessing sensors,</li>
	<li>
		web workers,</li>
	<li>
		web sockets, and</li>
	<li>
		3D drawing.</li>
</ul>
<p>
	Interestingly, some work very nicely, others barely at all.&nbsp; In addition, access an online database like Back4App might open up a whole new set of applications.&nbsp; And finally, peer-to-peer would be a cool feature.</p>
<p>
	.</p>
<div style="display:block; float: right; margin: 10px;">
	<a href="./src/tryIt.html?name=PrX_Advanced/drawing" style="display: block; text-align: center;" target="_blank"><img alt="" src="img/drawing.png" style="width: 200px; height: 100px; display: block;" />Try it</a></div>
<h2>
	Drawing</h2>
<p>
	This is a simple drawing application.&nbsp; Its main point is to work on both desktop and mobile devices.&nbsp; The problem lies in the fact that desktop browsers fire the &#39;mouse&#39; events, whereas the mobile browsers fire the &#39;touch&#39; events.&nbsp; The following function solves this problem:</p>
<pre style="margin-left: 40px;">
function addMouseOrTouchEvents() {
&nbsp;&nbsp;&nbsp; const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
&nbsp;&nbsp;&nbsp; if (isMobile) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; window.addEventListener(&#39;touchstart&#39;, handleStart);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; window.addEventListener(&#39;touchmove&#39;, handleMove);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; window.addEventListener(&#39;touchend&#39;, handleEnd);
&nbsp;&nbsp;&nbsp; } else {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; window.addEventListener(&#39;mousedown&#39;, handleStart);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; window.addEventListener(&#39;mousemove&#39;, handleMove);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; window.addEventListener(&#39;mouseup&#39;, handleEnd);
&nbsp;&nbsp;&nbsp; }
}

function handleStart(evt) {
&nbsp;&nbsp;&nbsp; ...
}

function handleMove(evt) {
&nbsp;&nbsp;&nbsp; ...
}

function handleEnd(evt) {
&nbsp;&nbsp;&nbsp; ...
}</pre>
<p>
	.</p>
<div style="display:block; float: right; margin: 10px;">
	<a href="./src/tryIt.html?name=PrX_Advanced/htmlTextEditor" style="display: block; text-align: center;" target="_blank"><img alt="" src="img/htmlTextEditor.png" style="width: 200px; height: 200px; display: block;" />Try it</a></div>
<h2>
	HtmlEditor</h2>
<p>
	This is an example of a simple HTML editor. It basically uses a div-tag for rendering together with the document.execCommand(), which actually is deprecated and should not be used anymore, but still works on all browsers I tested.&nbsp; It is a UI program, and we use the <em>JSHtmlTextArea</em> widget:</p>
<pre style="margin-left: 40px;">
function setup() {
&nbsp;&nbsp; &nbsp;createGUI(300, 300);
&nbsp;&nbsp; &nbsp;frameRate(5);
&nbsp;&nbsp; &nbsp;setLayout(&#39;border&#39;);

&nbsp;&nbsp; &nbsp;display = new JSHtmlTextArea(&quot;Enter text here...&quot;, 10, 20);
&nbsp;&nbsp; &nbsp;display.addStyle(&#39;width: 99%&#39;);
&nbsp;&nbsp; &nbsp;display.addStyle(&#39;height: 98%&#39;);
&nbsp;&nbsp; &nbsp;display.setHtml(&#39;hi &lt;b&gt;there&lt;/b&gt;, how are &lt;span style=&quot;color:red&quot;&gt;you&lt;/span&gt;?&#39;);
&nbsp;&nbsp; &nbsp;addWidget(display, &#39;CENTER&#39;);

&nbsp;&nbsp; &nbsp;...
}</pre>
<p>
	The trick is to mark the div-tag with the attribute <em>contentEditable</em> as true.</p>
<p>
	.</p>
<div style="display:block; float: right; margin: 10px;">
	<a href="./src/tryIt.html?name=PrX_Advanced/urlReaderTester" style="display: block; text-align: center;" target="_blank"><img alt="" src="img/urlReaderTester.png" style="width: 200px; height: 126px; display: block;" />Try it</a></div>
<h2>
	UrlReaderTester</h2>
<p>
	This example uses and XMLHttpRequest object to issue an HTTP GET request. It could also be used for POST, PUT or DELETE requests.&nbsp; However, this example does not work on many mobile browsers.</p>
<p>
	.</p>
<p>
	.</p>
<p>
	.</p>
<p>
	.</p>
<div style="display:block; float: right; margin: 10px;">
	<a href="./src/tryIt.html?name=PrX_Advanced/microphone" style="display: block; text-align: center;" target="_blank"><img alt="" src="img/microphone.png" style="width: 200px; height: 99px; display: block;" />Try it</a></div>
<h2>
	Microphone</h2>
<p>
	A simple GraphicsProgram that accesses the microphone. You need to grant the browser permission to access the microphone. An interesting application might be to do Fourier transformation, etc.&nbsp; However, I did not get this example to work on mobile browsers.</p>
<p>
	.</p>
<p>
	.</p>
<p>
	.</p>
<p>
	.</p>
<div style="display:block; float: right; margin: 10px;">
	<a href="./src/tryIt.html?name=PrX_Advanced/video" style="display: block; text-align: center;" target="_blank"><img alt="" src="img/video.png" style="width: 200px; height: 151px; display: block;" />Try it</a></div>
<h2>
	Video</h2>
<p>
	A simple demonstration on how to play and modify video files.&nbsp; Especially the modifying part has really surprised me: one, that it is relatively easy to do, and two, that the framerate is still decent.&nbsp; And three, this example works on all browsers I tested, even the mobile ones.</p>
<p>
	.</p>
<p>
	.</p>
<p>
	.</p>
<p>
	.</p>
<p>
	.</p>
<div style="display:block; float: right; margin: 10px;">
	<a href="./src/tryIt.html?name=PrX_Advanced/webCam" style="display: block; text-align: center;" target="_blank"><img alt="" src="img/webCam.png" style="width: 200px; height: 150px; display: block;" />Try it</a></div>
<h2>
	WebCam</h2>
<p>
	A simple demonstration on how to access a webcam, and how to modify the pixels. You need to grant the browser permission to access the webcam, and as expected, it I did not get it to run on any of the mobile browsers.</p>
<p>
	.</p>
<p>
	.</p>
<p>
	.</p>
<p>
	.</p>
<p>
	.</p>
<div style="display:block; float: right; margin: 10px;">
	<a href="./src/tryIt.html?name=PrX_Advanced/sensors" style="display: block; text-align: center;" target="_blank"><img alt="" src="img/sensors.png" style="width: 200px; height: 100px; display: block;" />Try it</a></div>
<h2>
	Sensors</h2>
<p>
	Now this was a big disappointment: I really was hoping that this would work at least on some mobile devices.&nbsp; I only got it to work on Firefox for Android.&nbsp; It is a simple GraphicsProgram that accesses the sensors. You need to grant the browser permission to access the sensors.</p>
<p>
	.</p>
<p>
	.</p>
<p>
	.</p>
<div style="display:block; float: right; margin: 10px;">
	<a href="./src/tryIt.html?name=PrX_Advanced/mandelbrot" style="display: block; text-align: center;" target="_blank"><img alt="" src="img/mandelbrot.png" style="width: 200px; height: 200px; display: block;" />Try it</a></div>
<h2>
	WebWorker</h2>
<p>
	JavaScript is inherently single threaded.&nbsp; Web workers is a way around this.&nbsp; Surprisingly enough, this worked on all browsers I tested, also the mobile ones.&nbsp;</p>
<p>
	[1] https://medium.com/techtrument/multithreading-javascript-46156179cf9a<br />
	[2] http://blog.namangoel.com/replacing-eval-with-a-web-worker</p>
<p>
	.</p>
<p>
	.</p>
<p>
	.</p>
<p>
	.</p>
<h2>
	ToDo</h2>
<p>
	There are a few more interesting projects to explore.</p>
<p>
	- 3D stuff<br />
	- database via Back4App or similar<br />
	- websockets<br />
	- p2p<br />
	&nbsp; <a href="https://github.com/vanevery/p5LiveMedia">https://github.com/vanevery/p5LiveMedia</a><br />
	&nbsp; https://peerjs.com/<br />
	&nbsp; https://blog.bitsrc.io/simplified-peer-to-peer-communication-with-peerjs-e37244267723<br />
	&nbsp; https://medium.com/geekculture/multiplayer-interaction-with-p5js-f04909e13b87<br />
	&nbsp; https://github.com/vanevery/p5LiveMedia</p>
<p>
	.</p>


<p class="footer">
Copyright &copy; 2016-2023 <a href="http://www.lano.de">Ralph P. Lano</a>. All rights reserved.
</p>
</div>
</div>
</center>
</body>

</html>